#!/bin/sh

CONF_DIR="$HOME/.config/bspwm"

# Load utility functions and config vars
. "$CONF_DIR/functions"
. "$CONF_DIR/config"

# Load Host specific setup
[ -f "$CONF_DIR/specifics/$(hostname -f)" ] && . "$CONF_DIR/specifics/$(hostname -f)"

# Start Polybar
kill_running polybar
export BAR_BOTTOM=false
for m in $(polybar --list-monitors | cut -d":" -f1); do
      [ "$m" = "DisplayPort-2" ] && export BAR_BOTTOM=true
      MONITOR=$m polybar --reload -l error all &
done

launch sxhkd &
launch picom --experimental-backends &
